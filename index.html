<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SplitBillEz - Decentralized Bill Splitting</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="images/splitbillez_favicon.png">
    <script src="https://cdn.jsdelivr.net/npm/web3@4.16.0/dist/web3.min.js"></script>
</head>
<body onload="checkMetaMaskConnection()">
    <header>
        <div class="header-container">
            <img src="images/splitbillez_logo.png" alt="SplitBillEz Logo" class="logo">
            <nav>
                <a href="index.html">Home</a>
                <a href="dashboard.html">Dashboard</a>
                <a href="add-expense.html">Add Expense</a>
            </nav>
            <button class="metamask-button" onclick="handleMetaMaskToggle()">Connect with MetaMask</button>
        </div>
    </header>
    <main>
        <section>
            <h2>Welcome to SplitBillEz</h2>
            <p>Split bills effortlessly using Shardeum's PayFi blockchain. Track expenses, settle instantly with SHM tokens, and enjoy low fees!</p>
        </section>
    </main>
    <footer>
        <p>Â© 2025 SplitBillEz Powered by Shardeum</p>
        <div class="social-links">
            <a href="https://discord.com/invite/shardeum" target="_blank" rel="nofollow">
                <img src="images/discord.svg" alt="Discord" class="social-icon">
            </a>
            <a href="https://github.com/BrunoMarshall/SplitBillEz" target="_blank" rel="nofollow">
                <img src="images/github.svg" alt="GitHub" class="social-icon">
            </a>
            <a href="https://www.linkedin.com/company/shardeum/" target="_blank" rel="nofollow">
                <img src="images/linkedin.svg" alt="LinkedIn" class="social-icon">
            </a>
            <a href="https://t.me/shardeum" target="_blank" rel="nofollow">
                <img src="images/telegram.svg" alt="Telegram" class="social-icon">
            </a>
            <a href="https://x.com/shardeum" target="_blank" rel="nofollow">
                <img src="images/twitter.svg" alt="X" class="social-icon">
            </a>
            <a href="https://www.youtube.com/@shardeum" target="_blank" rel="nofollow">
                <img src="images/youtube.svg" alt="YouTube" class="social-icon">
            </a>
        </div>
    </footer>
    <script src="js/app.js"></script>
    <script>
        async function checkMetaMaskConnection() {
            console.log('Checking MetaMask connection on page load...');
            try {
                if (window.ethereum) {
                    console.log('MetaMask provider detected');
                    if (!window.web3 || !window.web3.utils) {
                        console.log('Initializing Web3...');
                        await window.initWeb3();
                    }
                    const account = await window.getAccount();
                    console.log('MetaMask connected on load:', account);
                } else {
                    console.log('MetaMask not detected');
                }
            } catch (error) {
                console.error('Error checking MetaMask connection:', error);
            }
        }
    </script>
</body>
</html>